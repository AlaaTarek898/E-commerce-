{"version":3,"sources":["turbopack:///[project]/src/app/(auth)/login/page.tsx"],"sourcesContent":["'use client'\r\nimport React, { useState } from 'react'\r\nimport { Input } from \"@/components/ui/input\"\r\n\r\nimport { useForm } from 'react-hook-form';\r\nimport { ILogin, IRegister } from '@/lib/interfaces/Auth';\r\nimport * as zod from 'zod';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport toast from 'react-hot-toast';\r\nimport { useRouter } from 'next/navigation';\r\nimport { signIn } from 'next-auth/react';\r\n export   default function Login() {\r\n    const [errormsg, setError] = useState<string | null>(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\nconst router=useRouter()\r\n  //handle validation\r\n  const schema = zod\r\n    .object({\r\n \r\n      email: zod\r\n        .email(\"not valid\")\r\n        .nonempty(\"reauired\")\r\n        .regex(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/, \"not valid\"),\r\n      password: zod.string().regex(/(?=.*?[A-Z])/, \"at least one Upper case\"),\r\n    \r\n    })\r\n   \r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm({\r\n    defaultValues: {\r\n  \r\n      email: \"alaatarek2040@gmail.com\",\r\n      password: \"Alaa@123\",\r\n     \r\n    },\r\n    resolver: zodResolver(schema),\r\n    mode: 'all'\r\n  })\r\n\r\n\r\n  \r\n async function handleLogin(values: ILogin) {\r\n  setLoading(true)\r\nconst res=await signIn('credentials',{\r\n  redirect:false,\r\n  email:values.email,\r\n  password:values.password\r\n})\r\n\r\nif(res?.ok){\r\n  router.push('/')\r\n  setLoading(false)\r\n}else{\r\n    setError(res?.error ?? null); \r\n  toast.error(res?.error ?? \"Login failed\");\r\n    setLoading(false)\r\n}\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <main className=\"container  w-full flex flex-col justify-center md:flex-row md:justify-between items-center \">\r\n      <div className='w-11/12 md:w-7/12 h-50 md:h-svh relative'>\r\n        <Image src=\"/Side Image.png\" alt='register' fill className=' object-fill ' />\r\n      </div>\r\n      <div className='w-11/12 md:w-4/12 flex flex-col justify-start items-start gap-3'>\r\n        <h1 className=\"  text-4xl mb-3\">Log in to Exclusive</h1>\r\n        <p className='text-xl mb-4'>Enter your details below</p>\r\n        <form onSubmit={handleSubmit(handleLogin)} className=' flex flex-col gap-3 w-2/3' >\r\n          {errormsg? <p className='text-red-500'>{errormsg}</p> : null}\r\n   \r\n          <div>\r\n            <Input type='email' placeholder='enter your email' {...register('email')} />\r\n            {errors.email && <p className='text-red-500'>{errors.email.message}</p>}\r\n          </div>\r\n          <div>\r\n            <Input type='password' placeholder='enter your password' {...register('password')} />\r\n            {errors.password && <p className='text-red-500'>{errors.password.message}</p>}\r\n          </div>\r\n        \r\n\r\n     \r\n          <div className=' w-full flex justify-between'>\r\n          <button type='submit' disabled={loading} className='bg-red-500 text-white px-4 py-2 rounded-sm'>{loading? 'loading' : 'Log in'}</button>\r\n          <button  className=' text-black border-2 text-red-500 border-none px-4 py-2 rounded-sm'>Forget Password?</button>\r\n</div>\r\n        </form>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}