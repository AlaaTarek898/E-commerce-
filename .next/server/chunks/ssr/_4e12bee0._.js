module.exports=[9169,a=>{"use strict";a.s(["default",()=>b]);let b=function(a){return"string"==typeof a}},7049,81006,a=>{"use strict";a.s(["default",()=>d],7049),a.s(["default",()=>c],81006);var b=a.i(72131);function c(...a){let d=b.useRef(void 0),e=b.useCallback(b=>{let c=a.map(a=>{if(null==a)return null;if("function"==typeof a){let c=a(b);return"function"==typeof c?c:()=>{a(null)}}return a.current=b,()=>{a.current=null}});return()=>{c.forEach(a=>a?.())}},a);return b.useMemo(()=>a.every(a=>null==a)?null:a=>{d.current&&(d.current(),d.current=void 0),null!=a&&(d.current=e(a))},a)}let d=c},44365,35971,35926,a=>{"use strict";a.s(["default",()=>s],44365);var b=a.i(72131),c=a.i(98621),d=a.i(36472),e=a.i(21944),f=a.i(74443);a.s(["useTheme",()=>j],35926),a.s(["default",()=>j],35971);var g=a.i(5721),g=g,h=a.i(10231),i=a.i(21945);function j(){let a=(0,g.default)(h.default);return a[i.default]||a}var k=a.i(25054),l=a.i(33115),m=a.i(7633),n=a.i(68604),o=a.i(29297);function p(a){return(0,o.default)("MuiPaper",a)}(0,n.default)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var q=a.i(87924);let r=(0,f.styled)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(a,b)=>{let{ownerState:c}=a;return[b.root,b[c.variant],!c.square&&b.rounded,"elevation"===c.variant&&b[`elevation${c.elevation}`]]}})((0,k.default)(({theme:a})=>({backgroundColor:(a.vars||a).palette.background.paper,color:(a.vars||a).palette.text.primary,transition:a.transitions.create("box-shadow"),variants:[{props:({ownerState:a})=>!a.square,style:{borderRadius:a.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(a.vars||a).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),s=b.forwardRef(function(a,b){let f=(0,l.useDefaultProps)({props:a,name:"MuiPaper"}),g=j(),{className:h,component:i="div",elevation:k=1,square:n=!1,variant:o="elevation",...s}=f,t={...f,component:i,elevation:k,square:n,variant:o},u=(a=>{let{square:b,elevation:c,variant:e,classes:f}=a,g={root:["root",e,!b&&"rounded","elevation"===e&&`elevation${c}`]};return(0,d.default)(g,p,f)})(t);return(0,q.jsx)(r,{as:i,ownerState:t,className:(0,c.default)(u.root,h),ref:b,...s,style:{..."elevation"===o&&{"--Paper-shadow":(g.vars||g).shadows[k],...g.vars&&{"--Paper-overlay":g.vars.overlays?.[k]},...!g.vars&&"dark"===g.palette.mode&&{"--Paper-overlay":`linear-gradient(${(0,e.alpha)("#fff",(0,m.default)(k))}, ${(0,e.alpha)("#fff",(0,m.default)(k))})`}},...s.style}})})},54201,a=>{"use strict";a.s(["default",()=>l],54201);var b=a.i(87924),c=a.i(72131),d=a.i(15191),e=a.i(96403),f=a.i(84914),g=a.i(10708);async function h(a,b){let c=await (0,g.default)(),d=await fetch(`https://ecommerce.routemisr.com/api/v1/orders/${a}`,{method:"POST",headers:{"Content-Type":"application/json",token:c?String(c):""},body:JSON.stringify({shippingAddress:b})}),e=await d.json();if(console.log(e),"success"===e.status)return e;console.log("error")}async function i(a,b){let c=await (0,g.default)(),d=await fetch(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${a}?url=http://localhost:3000`,{method:"POST",headers:{"Content-Type":"application/json",token:c?String(c):""},body:JSON.stringify({shippingAddress:b})}),e=await d.json();if(console.log(e),"success"===e.status)return e;console.log("error")}var j=a.i(50944),k=a.i(6704);function l(){let[a,g]=c.default.useState("cash"),[l,m]=c.default.useState({firstName:"",details:"",phoneNumber:"",townCity:""}),n=(0,j.useRouter)(),{cartid:o,cartItems:p,setNoCartItems:q,setPrice:r,setCartid:s,setCartItems:t}=(0,c.useContext)(f.CartContext);async function u(b){if(b.preventDefault(),!o)return k.default.error("Cart is empty");if("cash"===a){let a=await h(o,l);a?.status==="success"&&(q(0),t(null),r(0),s(null),n.push("/"),k.default.success("Order Placed Successfully!"))}else{let a=await i(o,l);a?.status==="success"&&(location.href=a.session?.url)}}return(0,b.jsx)("div",{className:"w-11/12 m-auto mt-10",children:(0,b.jsxs)("main",{className:"flex flex-col md:flex-row justify-between",children:[(0,b.jsxs)("div",{className:"w-full md:w-5/12",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold my-5",children:"Billing details"}),(0,b.jsxs)("form",{className:"flex flex-col gap-8 w-full",onSubmit:u,children:[(0,b.jsx)(d.default,{fullWidth:!0,type:"text",placeholder:"First Name",required:!0,onChange:a=>m({...l,firstName:a.target.value})}),(0,b.jsx)(d.default,{fullWidth:!0,type:"text",placeholder:"Details",required:!0,onChange:a=>m({...l,details:a.target.value})}),(0,b.jsx)(d.default,{fullWidth:!0,type:"tel",placeholder:"Phone Number",required:!0,onChange:a=>m({...l,phoneNumber:a.target.value})}),(0,b.jsx)(d.default,{fullWidth:!0,type:"text",placeholder:"Town/City*",required:!0,onChange:a=>m({...l,townCity:a.target.value})}),(0,b.jsx)("div",{className:"w-full flex justify-center",children:(0,b.jsx)("button",{type:"submit",className:"block text-center w-6/12 p-3 bg-red-400 text-white hover:bg-red-600 hover:cursor-pointer",children:"Place Order"})})]})]}),(0,b.jsxs)("div",{className:"w-full md:w-6/12",children:[(0,b.jsx)("div",{className:"w-11/12",children:(0,b.jsx)(e.default,{})}),(0,b.jsx)("div",{className:"container mt-5",children:(0,b.jsx)("div",{className:"flex justify-between mt-3",children:(0,b.jsxs)("div",{className:"mt-3 border-2 border-gray-300 w-full p-3",children:[(0,b.jsx)("p",{className:"text-2xl",children:"Cart total"}),(0,b.jsxs)("div",{className:"flex justify-between m-3 border-b-2",children:[(0,b.jsx)("p",{children:"Sub total"}),(0,b.jsxs)("p",{children:[p?.data?.totalCartPrice??0," EGP"]})]}),(0,b.jsxs)("div",{className:"flex justify-between m-3 border-b-2",children:[(0,b.jsx)("p",{children:"Shipping"}),(0,b.jsx)("p",{children:"Free"})]}),(0,b.jsxs)("div",{className:"flex justify-between m-3 border-b-2",children:[(0,b.jsx)("p",{children:"Total"}),(0,b.jsxs)("p",{children:[p?.data?.totalCartPrice??0," EGP"]})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-col ms-5",children:[(0,b.jsxs)("label",{htmlFor:"cash",children:[(0,b.jsx)("input",{id:"cash",type:"radio",name:"payment",checked:"cash"===a,onChange:()=>g("cash")})," Cash"]}),(0,b.jsxs)("label",{htmlFor:"online",children:[(0,b.jsx)("input",{id:"online",type:"radio",name:"payment",checked:"online"===a,onChange:()=>g("online")})," Online"]})]})]})})})]})]})})}}];

//# sourceMappingURL=_4e12bee0._.js.map